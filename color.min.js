!function(){var a;window.$color||(a=window.$color={})}(),function(a){a.masks={},a.masks.hsl=/^ *hsl\( *(\d{1,3}), *(100|\d{1,2}%), *(100|\d{1,2}%) *\) *$/,a.masks.hsla=/^ *hsla\( *(\d{1,3}), *(100|\d{1,2}%), *(100|\d{1,2}%), *(1|0|\.\d+|0\.\d+) *\) *$/,a.masks.rgb=/^ *rgb\( *(\d{1,3}), *(\d{1,3}), *(\d{1,3}) *\) *$/,a.masks.rgba=/^ *rgba\( *(\d{1,3}), *(\d{1,3}), *(\d{1,3}), *(1|0|\.\d+|0\.\d+) *\) *$/,a.masks.rgbhex=/^ *#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6}) *$/}(window.$color),function(a){var b=function(a){return 3===a.length?a+"a":a.substr(0,a.length-1)},c=function(b){var c,d=["rgbhex"],e=a.masks.rgbhex.exec(b);if(e){if(e=e[1],3===e.length){for(e=e.split(""),c=0;6>c;c+=2)e.splice(c+1,0,e[c]);e=e.join("")}for(c=0;6>c;c+=2)d.push(parseInt(e.substr(c,2),16))}return d};a.parse=function(d,e){-1===["rgb","rgba","hsl","hsla"].indexOf(d)&&(d="rgb");var f={},g=d.split(""),h=0;if("object"==typeof e)g.forEach(function(b){f[b]=a.normalizeChannel(b,e[b])});else if("string"==typeof e){var i=a.masks[d].exec(e)||a.masks[b(d)].exec(e);i||"rgb"!==d&&"rgba"!==d||(i=c(e)),i||(i=[]),h=1,g.forEach(function(b){f[b]=a.normalizeChannel(b,i[h++])})}else{var j=[].slice.call(arguments,1);g.forEach(function(b){f[b]=a.normalizeChannel(b,j[h++])})}return f}}(window.$color),function(a){a.normalizeChannel=function(a,b){var c,d,e,f;return c=e=0,a=a.toLowerCase(),"r"===a||"g"===a||"b"===a?d=f=255:"a"===a?(b=parseFloat(b),b=isNaN(b)?1:b,d=f=1):"h"===a?(b=parseInt(b)||0,e=360-(360-b)%360,d=360,f=b%360):("s"===a||"l"===a)&&(d=f=100),"number"!=typeof b&&(b=parseInt(b)||0),b>d?f:c>b?e:b}}(window.$color),function(a){a.__Factory__=function(b){return function(){var c,d=this;d.type=b;var e=[].slice.call(arguments);e.unshift(d.type),c=a.parse.apply(a,e);var f=d.type.split("");["set","tune"].forEach(function(a){d[a]=function(b){return"object"!=typeof b?d:(f.forEach(function(c){"number"==typeof b[c]&&d[a][c](b[c])}),d)}}),d.clone=function(){return new d.constructor(function(){var a={};return f.forEach(function(b){a[b]=d[b]}),a}())},f.forEach(function(b){d[b]=c[b],function(b){d.set[b]=function(c){return d[b]=a.normalizeChannel(b,c),d},d.tune[b]=function(c){return"number"==typeof c&&(d[b]=a.normalizeChannel(b,d[b]+c)),d}}(b)})}}}(window.$color),function(a){a.hsla=a.__Factory__("hsla"),a.hsla.prototype.toString=function(){return"hsla("+this.h+", "+this.s+"%, "+this.l+"%, "+this.a+")"}}(window.$color),function(a){a.hsl=a.__Factory__("hsl"),a.hsl.prototype.toString=function(){return"hsl("+this.h+", "+this.s+"%, "+this.l+"%)"}}(window.$color),function(a){a.rgba=a.__Factory__("rgba"),a.rgba.prototype.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"}}(window.$color),function(a){a.rgb=a.__Factory__("rgb"),a.rgb.prototype.toString=function(a){return"hex"===a?"#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16):"rgb("+this.r+", "+this.g+", "+this.b+")"}}(window.$color);