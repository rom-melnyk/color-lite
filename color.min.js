!function(){var a;window.$color||(a=window.$color={})}(),function(a){a.masks={},a.masks.hsl=/^ *hsl\( *(\d{1,3}), *(100|\d{1,2}%), *(100|\d{1,2}%) *\) *$/i,a.masks.hsla=/^ *hsla\( *(\d{1,3}), *(100|\d{1,2}%), *(100|\d{1,2}%), *(1|0|\.\d+|0\.\d+) *\) *$/i,a.masks.rgb=/^ *rgb\( *(\d{1,3}), *(\d{1,3}), *(\d{1,3}) *\) *$/i,a.masks.rgba=/^ *rgba\( *(\d{1,3}), *(\d{1,3}), *(\d{1,3}), *(1|0|\.\d+|0\.\d+) *\) *$/i,a.masks.rgbhex=/^ *#?([0-9a-f]{3}|[0-9a-f]{6}) *$/i}(window.$color),function(a){var b=function(a){return 3===a.length?a+"a":a.substr(0,a.length-1)},c=function(b){var c,d=["rgbhex"],e=a.masks.rgbhex.exec(b);if(e){if(e=e[1],3===e.length){for(e=e.split(""),c=0;6>c;c+=2)e.splice(c+1,0,e[c]);e=e.join("")}for(c=0;6>c;c+=2)d.push(parseInt(e.substr(c,2),16))}return d};a.parse=function(d,e){-1===["rgb","rgba","hsl","hsla"].indexOf(d)&&(d="rgb");var f={},g=d.split(""),h=0;if("object"==typeof e)g.forEach(function(b){f[b]=a.normalizeChannel(b,e[b])});else if("string"==typeof e){var i=a.masks[d].exec(e)||a.masks[b(d)].exec(e);i||"rgb"!==d&&"rgba"!==d||(i=c(e)),i||(i=[]),h=1,g.forEach(function(b){f[b]=a.normalizeChannel(b,i[h++])})}else{var j=[].slice.call(arguments,1);g.forEach(function(b){f[b]=a.normalizeChannel(b,j[h++])})}return f}}(window.$color),function(a){a.normalizeChannel=function(a,b){var c,d,e,f;return c=e=0,a=a.toLowerCase(),"r"===a||"g"===a||"b"===a?d=f=255:"a"===a?(b=parseFloat(b),b=isNaN(b)?1:b,d=f=1):"h"===a?(b=parseInt(b)||0,e=360-(360-b)%360,d=360,f=b%360):("s"===a||"l"===a)&&(d=f=100),"number"!=typeof b&&(b=parseInt(b)||0),b>d?f:c>b?e:b}}(window.$color),function(a){a.__Factory__=function(b){return function(){var c,d=this;d.type=b;var e=[].slice.call(arguments);e.unshift(d.type),c=a.parse.apply(a,e);var f=d.type.split("");["set","tune"].forEach(function(a){d[a]=function(b){return"object"!=typeof b?d:(f.forEach(function(c){"number"==typeof b[c]&&d[a][c](b[c])}),d)}}),d.clone=function(){return new d.constructor(function(){var a={};return f.forEach(function(b){a[b]=d[b]}),a}())},f.forEach(function(b){d[b]=c[b],function(b){d.set[b]=function(c){return d[b]=a.normalizeChannel(b,c),d},d.tune[b]=function(c){return"number"==typeof c&&(d[b]=a.normalizeChannel(b,d[b]+c)),d}}(b)})}}}(window.$color),function(a){a.convert={},a.convert.rgb2hsl=function(b){var c=a.normalizeChannel("r",b.r)/255,d=a.normalizeChannel("g",b.g)/255,e=a.normalizeChannel("b",b.b)/255,f=Math.max(c,d,e),g=Math.min(c,d,e),h=f-g,i={};return i.h=0===h?0:c===f?(d-e)/h%6:d===f?(e-c)/h+2:(c-d)/h+4,i.h=Math.round(60*i.h),i.l=(f+g)/2,i.s=0===i.l||1===i.l?0:h/(1-Math.abs(2*i.l-1)),i.s=Math.round(100*i.s),i.l=Math.round(100*i.l),i},a.convert.hsl2rgb=function(b){var c=a.normalizeChannel("h",b.h),d=a.normalizeChannel("s",b.s)/100,e=a.normalizeChannel("l",b.l)/100,f=(1-Math.abs(2*e-1))*d,g=f*(1-Math.abs(c/60%2-1)),h=e-f/2,i={};return i=c>=0&&60>c?{r:f,g:g,b:0}:c>=60&&120>c?{r:g,g:f,b:0}:c>=120&&180>c?{r:0,g:f,b:g}:c>=180&&240>c?{r:0,g:g,b:f}:c>=240&&300>c?{r:g,g:0,b:f}:{r:f,g:0,b:g},["r","g","b"].forEach(function(a){i[a]=Math.round(255*(i[a]+h))}),i}}(window.$color),function(a){a.hsla=a.__Factory__("hsla"),a.hsla.prototype.toString=function(){return"hsla("+this.h+", "+this.s+"%, "+this.l+"%, "+(0===this.a||1===this.a?this.a:this.a.toFixed(2))+")"},a.hsla.prototype.toRgba=function(){var b=a.convert.hsl2rgb(this);return b.a=this.a,new a.rgba(b)}}(window.$color),function(a){a.hsl=a.__Factory__("hsl"),a.hsl.prototype.toString=function(){return"hsl("+this.h+", "+this.s+"%, "+this.l+"%)"},a.hsl.prototype.toRgb=function(){return new a.rgb(a.convert.hsl2rgb(this))}}(window.$color),function(a){a.rgba=a.__Factory__("rgba"),a.rgba.prototype.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(0===this.a||1===this.a?this.a:this.a.toFixed(2))+")"},a.rgba.prototype.toHsla=function(){var b=a.convert.rgb2hsl(this);return b.a=this.a,new a.hsla(b)}}(window.$color),function(a){a.rgb=a.__Factory__("rgb"),a.rgb.prototype.toString=function(a){return"hex"===a?"#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16):"rgb("+this.r+", "+this.g+", "+this.b+")"},a.rgb.prototype.toHsl=function(){return new a.hsl(a.convert.rgb2hsl(this))}}(window.$color);